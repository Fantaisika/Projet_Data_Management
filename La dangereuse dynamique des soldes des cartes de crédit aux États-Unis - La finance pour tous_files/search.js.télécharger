jQuery(document).ready(function(){var search=jQuery('#s');jQuery(document).on('click','.bt-search-toggle',function(){jQuery('body').toggleClass('search-active');if(jQuery('body').hasClass('search-active')){search.focus()}});if(search.length){if(!jQuery('.lt992').length){search.on('focus',function(){jQuery('body').addClass('search-active')}).on('blur',function(){jQuery('body').removeClass('search-active')})}
jQuery(document).on('click','.header .bt-close',function(){if(jQuery('.lt992').length){jQuery('.bt-search').click()}else{jQuery('body').toggleClass('search-active')}});var data=new Bloodhound({datumTokenizer:function(d){return Bloodhound.tokenizers.whitespace(d.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:lfpt_localize.ajaxurl+'?action=search&s=%QUERY',ajax:{type:'GET',dataType:'json'},wildcard:'%QUERY'},limit:6});data.initialize();search.typeahead({hint:!0,highlight:!0,minLength:3},{display:'name',source:data.ttAdapter(),templates:{empty:['<div class="typeahead-row typeahead-row--no-result">','<p>Aucun résultat ne correspond à vos critères. <br />Merci de renouveler votre recherche.</p>','</div>'].join('\n'),footer:['<div class="typeahead-row typeahead-row--footer">','<p>Afficher tous les résultats</p>','</div>'].join('\n'),suggestion:function(string){return string}},limit:5})}
jQuery(document).on('click','.typeahead-row--footer',function(event){document.location.href='/?s='+encodeURIComponent(jQuery('.tt-input').val());event.preventDefault()})})